(self.webpackChunkstarvie=self.webpackChunkstarvie||[]).push([[833],{5784:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5784,e.exports=t},6214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ue});var r=n(6720),a=n(7294),o=n(5391),i=n.n(o),l=(0,a.createContext)(null),c=(0,a.createContext)(null),u=n(1508),s=n(6882),m=n(8537),f=n(7210),d=n(9477),v=n(1766),p=n(6357);const g={uniforms:{iTime:{type:"f",value:0},iResolution:{type:"v2",value:{x:0,y:0}}},vertexShader:n(3083),fragmentShader:p};s.L.preload("spitfire.gltf");var h=new v.Howl({src:["space-trivia.mp3"],loop:!0}),y=function(e){var t=e.client,n=(0,s.L)("spitfire.gltf"),r=(0,a.useRef)(),o=(0,a.useRef)(),i=(0,f.Ky)(),l=i.size,c=i.viewport,u=new d.Object3D;return(0,a.useEffect)((function(){r.current.material.uniforms.iResolution.value={x:l.width,y:l.height};var e=function(e){r.current.material.uniforms.iTime.value=e.t,e.sps.forEach((function(e,t){u.position.set(e.p.x*c.width/2,e.p.y*c.height/2,0),u.rotation.set(Math.PI/2+e.r.x,Math.PI+e.r.y,e.r.z),u.scale.set(.1,.1,.1),u.updateMatrix(),o.current.setMatrixAt(t,u.matrix)})),o.current.instanceMatrix.needsUpdate=!0};return t.on("data",e),h.play(),function(){t.off("data",e),h.stop()}}),[]),(0,f.xQ)((function(e){var n=e.mouse,r={m:{x:n.x,y:n.y}};t.send(r)})),a.createElement(a.Fragment,null,a.createElement("ambientLight",null),a.createElement("pointLight",{position:[5,5,5]}),a.createElement("mesh",{ref:r,position:[0,0,-1]},a.createElement("planeBufferGeometry",{args:[l.width,l.height]}),a.createElement("shaderMaterial",{attach:"material",args:[g]})),a.createElement("instancedMesh",{ref:o,args:[n.nodes.Spitfire.geometry,n.materials.Texture,4]}),a.createElement(m.j,null))};function E(e){var t=e.client;return a.createElement(f.Xz,null,a.createElement(y,{client:t}))}var x=n(9842),b=n(9972),Z={secure:!0,host:"starviee-peerjs-server.herokuapp.com",port:443},w=function(){return(0,b._8)({dictionaries:[b.R5],length:1})};function S(e){var t,n,r,o,i=e.host,l=(0,a.useRef)({t:0,n:0,sps:[]}),c=[],u=x.Engine.create();return(0,a.useEffect)((function(){var e=function(e){var t=x.Bodies.rectangle(-.1,-.2,.2,.4);c.push(t),x.World.add(u.world,[t]),e.on("data",(function(e){return x.Body.setVelocity(t,{x:.01*(e.m.x-t.position.x),y:.01*(e.m.y-t.position.y)})}))};return i.on("connection",e),function(){return i.off("connection",e)}}),[]),t=function(e){x.Engine.update(u,e),l.current={t:l.current.t+e,n:l.current.n+1,sps:c.map((function(e){return{p:{x:e.position.x,y:e.position.y},r:{x:0,y:0,z:0}}}))};var t=i.connections;Object.values(t).forEach((function(e){return e[0].send(l.current)}))},n=(0,a.useRef)(void 0),r=(0,a.useRef)(void 0),o=function(e){r.current&&t((e-r.current)/1e3),r.current=e,n.current=requestAnimationFrame(o)},(0,a.useEffect)((function(){return n.current=requestAnimationFrame(o),function(){return cancelAnimationFrame(n.current)}}),[]),null}var C=n(5666),P=n.n(C),O=n(2694),j=n(7440),k=n(3516),A=n(3838),I=n(7645),z=n(7750),R=n(5725),M=n(9986),F=n(6186),T=n(9573),U=n(6011),B=n(3694),L=n(6926),_=n(8732),D=n(6514),G=n(8973),J=n(7109),N=n(2658),V=n(8272),H=n(6867),q=n(6914),X=n(1591),K=n(5499),Q=n(7536);var W=(0,n(5503).ZF)({apiKey:"AIzaSyBhi66Bbok_gBT7LhYd0gnOjXpGQ91bGc0",authDomain:"storie-13b35.firebaseapp.com",projectId:"storie-13b35",storageBucket:"storie-13b35.appspot.com",messagingSenderId:"592331745690",appId:"1:592331745690:web:6732172cdd2dfe46263223",measurementId:"G-V3X61DZG3P"}),$=(0,X.ad)(W);const Y=(0,X.hJ)($,"servers").withConverter({toFirestore:function(e){return e.id,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["id"])},fromFirestore:function(e){var t=e.data();return{id:e.id,name:t.name,noPlayers:t.noPlayers,version:t.version}}});function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae="1.0.0";function oe(){var e,t,n,r=re((0,a.useState)(null),2),o=r[0],s=r[1],m=re((0,a.useContext)(l),2),f=(m[0],m[1]),d=re((0,a.useContext)(c),2),v=d[0],p=d[1],g=re((0,K.Z)(["name"]),2),h=g[0],y=g[1],E=(e=P().mark((function e(t){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new(i())(Z)).on("open",(function(){return p(n.connect(t.id))}));case 2:case"end":return e.stop()}}),e)})),t=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){te(o,r,a,i,l,"next",e)}function l(e){te(o,r,a,i,l,"throw",e)}i(void 0)}))},function(e){return t.apply(this,arguments)}),x=(0,Q.cI)({mode:"all",defaultValues:{name:null!==(n=h.name)&&void 0!==n?n:w()}}),b=x.handleSubmit,S=x.register,C=x.setValue,W=x.trigger,$=x.formState,ee=$.isSubmitting,oe=$.errors;return(0,a.useEffect)((function(){return(0,X.cf)((0,X.IO)(Y,(0,X.ar)("version","==",ae)),(function(e){return s(e.docs.map((function(e){return e.data()})))}))}),[]),a.createElement(A.Z,{open:!v,fullScreen:!0},a.createElement(I.Z,null,"Starviee Space Shooters - v","1.0.0"),a.createElement(z.Z,null,a.createElement(R.ZP,{container:!0,spacing:2},a.createElement(M.Z,{open:!!v},a.createElement(F.Z,{severity:"success"},"Connected")),a.createElement(R.ZP,{item:!0,xs:8},a.createElement(u.Z,{component:"main",sx:{height:"100vh",overflow:"auto"}},a.createElement(T.Z,{size:"small",stickyHeader:!0},a.createElement(U.Z,null,a.createElement(B.Z,null,a.createElement(L.Z,null,"Host"),a.createElement(L.Z,{align:"right"},"No. Players"),a.createElement(L.Z,{align:"right"},"Join"))),a.createElement(_.Z,null,null==o?void 0:o.map((function(e){return a.createElement(D.Z,{in:!0,key:e.id},a.createElement(B.Z,null,a.createElement(L.Z,null,e.name),a.createElement(L.Z,{align:"right"},e.noPlayers),a.createElement(L.Z,{align:"right"},a.createElement(k.Z,{loading:ee,onClick:b((function(t){return E(e)}))},"Join"))))})),Array(5).fill().map((function(e,t){return a.createElement(D.Z,{in:!o,key:t},a.createElement(B.Z,null,a.createElement(L.Z,null,a.createElement(G.Z,{variant:"text",animation:"wave"})),a.createElement(L.Z,{align:"right"},a.createElement(G.Z,{variant:"text",animation:"wave"})),a.createElement(L.Z,{align:"right"},a.createElement(G.Z,{variant:"rectangular",animation:"wave"},a.createElement(k.Z,{variant:"outlined"},"Join")))))})))))),a.createElement(R.ZP,{item:!0,xs:4},a.createElement(u.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh"}},a.createElement(J.Z,{sx:{width:64,height:64,m:1,bgcolor:"primary.main"}},a.createElement(O.Z,{sx:{fontSize:32}})),a.createElement(N.Z,{component:"h1",variant:"h4"},"Starviee"),a.createElement(V.Z,ne({margin:"normal",fullWidth:!0,label:"Name",autoComplete:"name"},S("name",{required:!0}),{error:!!oe.name,inputProps:{maxLength:12},onChange:function(e){return e.target.value&&y("name",e.target.value)},InputProps:{startAdornment:a.createElement(H.Z,{onClick:function(){var e=w();y("name",e),C("name",e),W("name")}},a.createElement(j.Z,null))},autoFocus:!0})),a.createElement(R.ZP,{container:!0,justifyContent:"flex-start"},a.createElement(q.Z,{variant:"outlined",onClick:b((function(e){return function(e){var t=new(i())(Z);t.on("open",(function(n){(0,X.pl)((0,X.JU)(Y,n),{id:n,name:e.name,noPlayers:0,version:ae}),f(t);var r=new(i())(Z);r.on("open",(function(){return p(r.connect(t.id))}))}))}(e)})),disabled:!!oe.name},"Host")))))))}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(){var e=le((0,a.useContext)(l),1)[0],t=le((0,a.useContext)(c),2),n=t[0];return t[1],a.createElement(u.Z,{height:"100vh"},e&&a.createElement(S,{host:e}),n&&a.createElement(E,{client:n}),a.createElement(oe,null))}function ue(){return a.createElement(l.Provider,{value:(0,a.useState)(null)},a.createElement(c.Provider,{value:(0,a.useState)(null)},a.createElement(r.ZP,null),a.createElement(ce,null)))}},6357:e=>{"use strict";e.exports="uniform vec3 iResolution;\nuniform float iTime;\n\n// Star Nest by Pablo Roman Andrioli\n\n#define iterations 10\n#define formuparam 0.53\n\n#define volsteps 8\n#define stepsize 0.1\n\n#define zoom   0.800\n#define tile   0.850\n#define speed  0.010 \n\n#define brightness 0.0015\n#define darkmatter 0.300\n#define distfading 0.730\n#define saturation 0.850\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\t//get coords and direction\n\tvec2 uv = fragCoord.xy / iResolution.xy - .5;\n\tuv.y *= iResolution.y / iResolution.x;\n\tvec3 dir = vec3(uv * zoom, 1.);\n\tfloat time = iTime * speed + .25;\n\n\t//mouse rotation\n\tfloat a1 = .5;\n\tfloat a2 = .8;\n\tmat2 rot1 = mat2(cos(a1), sin(a1), -sin(a1), cos(a1));\n\tmat2 rot2 = mat2(cos(a2), sin(a2), -sin(a2), cos(a2));\n\tdir.xz *= rot1;\n\tdir.xy *= rot2;\n\tvec3 from = vec3(1., .5, 0.5);\n\tfrom += vec3(0., time, -2.);\n\tfrom.xz *= rot1;\n\tfrom.xy *= rot2;\n\n\t//volumetric rendering\n\tfloat s = 0.1, fade = 1.;\n\tvec3 v = vec3(0.);\n\tfor(int r = 0; r < volsteps; r++) {\n\t\tvec3 p = from + s * dir * .5;\n\t\tp = abs(vec3(tile) - mod(p, vec3(tile * 2.))); // tiling fold\n\t\tfloat pa, a = pa = 0.;\n\t\tfor(int i = 0; i < iterations; i++) {\n\t\t\tp = abs(p) / dot(p, p) - formuparam; // the magic formula\n\t\t\ta += abs(length(p) - pa); // absolute sum of average change\n\t\t\tpa = length(p);\n\t\t}\n\t\tfloat dm = max(0., darkmatter - a * a * .001); //dark matter\n\t\ta *= a * a; // add contrast\n\t\tif(r > 6)\n\t\t\tfade *= 1. - dm; // dark matter, don't render near\n\t\t//v+=vec3(dm,dm*.5,0.);\n\t\tv += fade;\n\t\tv += vec3(s, s * s, s * s * s * s) * a * brightness * fade; // coloring based on distance\n\t\tfade *= distfading; // distance fading\n\t\ts += stepsize;\n\t}\n\tv = mix(vec3(length(v)), v, saturation); //color adjust\n\tfragColor = vec4(v * .01, 1.);\n}\n\nvoid main() {\n\tmainImage(gl_FragColor, gl_FragCoord.xy);\n}"},3083:e=>{"use strict";e.exports="varying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFDSnFJLEtBQU03QixFQUFLNkIsS0FDWEMsVUFBVyxFQUNYQyxRQUFTQSxLQUVYTyxFQUFRMUQsR0FBTSxJQUNSZ0UsRUFBTyxJQUFJQyxJQUFKLENBQVNuRSxHQUN0QmtFLEVBQUs1RixHQUFHLFFBQVEsa0JBQU11RixFQUFVSyxFQUFLRSxRQUFRbEUsRUFBS3BGLFdBOElOd08sQ0FBVWhJLE1BQzFDaUksV0FBWXpFLEdBQU8zQixNQUNwQixjQy9NakIsNkRBQUFILEVBQUEsaUJBQUFBLEVBQUEsRUFBQUEsSUFBQSxFQUFBQSxHQUFBLEVBQUFBLEdBQUEsdUJBQUFBLEdBQUEsZ0VBQUFBLEdBQUEsb0xBQUFBLEdBQUEsV0FBQUEsR0FBQSxzR0FBQUEsSUFBQSxpU0FBQUEsSUFBQSxnTEFPZSxjQUNiLElBQU85QyxFQUErQixJQUF2QnlELEVBQUFBLEVBQUFBLFlBQVcxSSxHQUFZLE1BQ2xCMEksRUFBeUIsSUFBekJBLEVBQUFBLEVBQUFBLFlBQVd4SSxHQUFjLEdBQXRDZ0IsRUFBYXdILEVBQXlCLEdBQTdCLE9BQUlBLEVBQXlCLEdBRzNDLGdCQUFDdUMsRUFBQUEsRUFBRyxDQUFDakosT0FBTyxTQUNUaUQsR0FBUSxnQkFBQ3NKLEVBQUksQ0FBQ3RKLEtBQU1BLElBQ3BCL0QsR0FBVSxnQkFBQ0QsRUFBTSxDQUFDQyxPQUFRQSxJQUMzQixnQkFBQ3NOLEdBQVUsT0NWRixjQUNiLE9BQ0UsZ0JBQUN4TyxFQUFZeU8sU0FBUSxDQUFDbk8sT0FBT2lJLEVBQUFBLEVBQUFBLFVBQVMsT0FDcEMsZ0JBQUNySSxFQUFjdU8sU0FBUSxDQUFDbk8sT0FBT2lJLEVBQUFBLEVBQUFBLFVBQVMsT0FDdEMsZ0JBQUNtRyxFQUFBQSxHQUFXLE1BQ1osZ0JBQUNDLEdBQVUsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXJ2aWUvLi9ub2RlX21vZHVsZXMvcGVlcmpzL2Rpc3R8c3luYyIsIndlYnBhY2s6Ly9zdGFydmllLy4vc3JjL2NvbnRleHRzLmpzIiwid2VicGFjazovL3N0YXJ2aWUvLi9zcmMvVW5pdmVyc2VNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly9zdGFydmllLy4vc3JjL0NsaWVudC5qcyIsIndlYnBhY2s6Ly9zdGFydmllLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovL3N0YXJ2aWUvLi9zcmMvSG9zdC5qcyIsIndlYnBhY2s6Ly9zdGFydmllLy4vc3JjL3NlcnZlcnNDb2xsZWN0aW9uLmpzIiwid2VicGFjazovL3N0YXJ2aWUvLi9zcmMvZmlyZWJhc2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vc3RhcnZpZS8uL3NyYy9NYWluRGlhbG9nLmpzIiwid2VicGFjazovL3N0YXJ2aWUvLi9zcmMvTWFpblNjcmVlbi5qcyIsIndlYnBhY2s6Ly9zdGFydmllLy4vc3JjL0FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB3ZWJwYWNrRW1wdHlDb250ZXh0KHJlcSkge1xuXHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0dGhyb3cgZTtcbn1cbndlYnBhY2tFbXB0eUNvbnRleHQua2V5cyA9ICgpID0+IChbXSk7XG53ZWJwYWNrRW1wdHlDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xud2VicGFja0VtcHR5Q29udGV4dC5pZCA9IDU3ODQ7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7IiwiaW1wb3J0IFBlZXIsIHsgRGF0YUNvbm5lY3Rpb24gfSBmcm9tIFwicGVlcmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgXCIuL3R5cGVzXCI7XG5cbi8qKiBAdHlwZSB7UmVhY3QuQ29udGV4dDxbUGVlciwgKHBlZXI6IFBlZXIpID0+IHZvaWRdPiB8IG51bGx9ICovXG5leHBvcnQgY29uc3QgSG9zdENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuXG4vKiogQHR5cGUge1JlYWN0LkNvbnRleHQ8W0RhdGFDb25uZWN0aW9uLCAoY2xpZW50OiBEYXRhQ29ubmVjdGlvbikgPT4gdm9pZF0+fSAqL1xuZXhwb3J0IGNvbnN0IENsaWVudENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuIiwiaW1wb3J0IGZyYWdtZW50U2hhZGVyIGZyb20gXCIuL3NoYWRlcnMvdW5pdmVyc2UuZnJhZ1wiO1xuaW1wb3J0IHZlcnRleFNoYWRlciBmcm9tIFwiLi9zaGFkZXJzL3VuaXZlcnNlLnZlcnRcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB1bmlmb3Jtczoge1xuICAgIGlUaW1lOiB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogMCB9LFxuICAgIGlSZXNvbHV0aW9uOiB7IHR5cGU6IFwidjJcIiwgdmFsdWU6IHsgeDogMCwgeTogMCB9IH0sXG4gIH0sXG4gIHZlcnRleFNoYWRlcixcbiAgZnJhZ21lbnRTaGFkZXIsXG59O1xuIiwiLyoqIEB0ZW1wbGF0ZSBUIEB0eXBlZGVmIHtpbXBvcnQoXCJyZWFjdFwiKS5NdXRhYmxlUmVmT2JqZWN0PFQ+fSBNdXRhYmxlUmVmT2JqZWN0PFQ+ICovXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCJwZWVyanNcIikuRGF0YUNvbm5lY3Rpb259IERhdGFDb25uZWN0aW9uXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5HYW1lfSBHYW1lXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5QbGF5ZXJ9IFBsYXllclxuICogQHR5cGVkZWYge2ltcG9ydChcInRocmVlXCIpLkluc3RhbmNlZE1lc2h9IEluc3RhbmNlZE1lc2hcbiAqIEB0eXBlZGVmIHtpbXBvcnQoXCJ0aHJlZVwiKS5NZXNofSBNZXNoXG4gKi9cblxuaW1wb3J0IHsgU3RhdHMsIHVzZUdMVEYgfSBmcm9tIFwiQHJlYWN0LXRocmVlL2RyZWlcIjtcbmltcG9ydCB7IENhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlIH0gZnJvbSBcIkByZWFjdC10aHJlZS9maWJlclwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IHsgSG93bCB9IGZyb20gXCJob3dsZXJcIjtcbmltcG9ydCBVbml2ZXJzZU1hdGVyaWFsIGZyb20gXCIuL1VuaXZlcnNlTWF0ZXJpYWxcIjtcblxudXNlR0xURi5wcmVsb2FkKFwic3BpdGZpcmUuZ2x0ZlwiKTtcblxuY29uc3Qgc3BhY2VUcml2aWEgPSBuZXcgSG93bCh7XG4gIHNyYzogW1wic3BhY2UtdHJpdmlhLm1wM1wiXSxcbiAgbG9vcDogdHJ1ZSxcbn0pO1xuXG4vKiogQHBhcmFtIHt7Y2xpZW50OiBEYXRhQ29ubmVjdGlvbn19IHByb3BzICovXG5jb25zdCBDbGllbnQgPSAoeyBjbGllbnQgfSkgPT4ge1xuICBjb25zdCBzcGl0ZmlyZSA9IHVzZUdMVEYoXCJzcGl0ZmlyZS5nbHRmXCIpO1xuXG4gIC8qKiBAdHlwZSB7TXV0YWJsZVJlZk9iamVjdDxNZXNoPn0gKi9cbiAgY29uc3QgdW5pdmVyc2UgPSB1c2VSZWYoKTtcbiAgLyoqIEB0eXBlIHtNdXRhYmxlUmVmT2JqZWN0PEluc3RhbmNlZE1lc2g+fSAqL1xuICBjb25zdCBzcGFjZXNoaXBzID0gdXNlUmVmKCk7XG4gIGNvbnN0IHsgc2l6ZSwgdmlld3BvcnQgfSA9IHVzZVRocmVlKCk7XG4gIGNvbnN0IG9iaiA9IG5ldyBPYmplY3QzRCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdW5pdmVyc2UuY3VycmVudC5tYXRlcmlhbC51bmlmb3Jtcy5pUmVzb2x1dGlvbi52YWx1ZSA9IHtcbiAgICAgIHg6IHNpemUud2lkdGgsXG4gICAgICB5OiBzaXplLmhlaWdodCxcbiAgICB9O1xuXG4gICAgLyoqIEBwYXJhbSB7R2FtZX0gZ2FtZSAgKi9cbiAgICBjb25zdCBvbkRhdGEgPSAoZ2FtZSkgPT4ge1xuICAgICAgdW5pdmVyc2UuY3VycmVudC5tYXRlcmlhbC51bmlmb3Jtcy5pVGltZS52YWx1ZSA9IGdhbWUudDtcbiAgICAgIGdhbWUuc3BzLmZvckVhY2goKHNwLCBpZCkgPT4ge1xuICAgICAgICBvYmoucG9zaXRpb24uc2V0KFxuICAgICAgICAgIChzcC5wLnggKiB2aWV3cG9ydC53aWR0aCkgLyAyLFxuICAgICAgICAgIChzcC5wLnkgKiB2aWV3cG9ydC5oZWlnaHQpIC8gMixcbiAgICAgICAgICAwXG4gICAgICAgICk7XG4gICAgICAgIG9iai5yb3RhdGlvbi5zZXQoTWF0aC5QSSAvIDIgKyBzcC5yLngsIE1hdGguUEkgKyBzcC5yLnksIHNwLnIueik7XG4gICAgICAgIG9iai5zY2FsZS5zZXQoMC4xLCAwLjEsIDAuMSk7XG4gICAgICAgIG9iai51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgc3BhY2VzaGlwcy5jdXJyZW50LnNldE1hdHJpeEF0KGlkLCBvYmoubWF0cml4KTtcbiAgICAgIH0pO1xuICAgICAgc3BhY2VzaGlwcy5jdXJyZW50Lmluc3RhbmNlTWF0cml4Lm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgY2xpZW50Lm9uKFwiZGF0YVwiLCBvbkRhdGEpO1xuICAgIHNwYWNlVHJpdmlhLnBsYXkoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xpZW50Lm9mZihcImRhdGFcIiwgb25EYXRhKTtcbiAgICAgIHNwYWNlVHJpdmlhLnN0b3AoKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlRnJhbWUoKHsgbW91c2UgfSkgPT4ge1xuICAgIC8qKiBAdHlwZSBQbGF5ZXIgKi9cbiAgICBjb25zdCBwbGF5ZXIgPSB7IG06IHsgeDogbW91c2UueCwgeTogbW91c2UueSB9IH07XG4gICAgY2xpZW50LnNlbmQocGxheWVyKTtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGFtYmllbnRMaWdodCAvPlxuICAgICAgPHBvaW50TGlnaHQgcG9zaXRpb249e1s1LCA1LCA1XX0gLz5cbiAgICAgIDxtZXNoIHJlZj17dW5pdmVyc2V9IHBvc2l0aW9uPXtbMCwgMCwgLTFdfT5cbiAgICAgICAgPHBsYW5lQnVmZmVyR2VvbWV0cnkgYXJncz17W3NpemUud2lkdGgsIHNpemUuaGVpZ2h0XX0gLz5cbiAgICAgICAgPHNoYWRlck1hdGVyaWFsIGF0dGFjaD1cIm1hdGVyaWFsXCIgYXJncz17W1VuaXZlcnNlTWF0ZXJpYWxdfSAvPlxuICAgICAgPC9tZXNoPlxuICAgICAgPGluc3RhbmNlZE1lc2hcbiAgICAgICAgcmVmPXtzcGFjZXNoaXBzfVxuICAgICAgICBhcmdzPXtbc3BpdGZpcmUubm9kZXMuU3BpdGZpcmUuZ2VvbWV0cnksIHNwaXRmaXJlLm1hdGVyaWFscy5UZXh0dXJlLCA0XX1cbiAgICAgIC8+XG4gICAgICA8U3RhdHMgLz5cbiAgICA8Lz5cbiAgKTtcbn07XG5cbi8qKiBAcGFyYW0ge3tjbGllbnQ6IERhdGFDb25uZWN0aW9ufX0gcHJvcHMgKi9cbmV4cG9ydCBkZWZhdWx0ICh7IGNsaWVudCB9KSA9PiAoXG4gIDxDYW52YXM+XG4gICAgPENsaWVudCBjbGllbnQ9e2NsaWVudH0gLz5cbiAgPC9DYW52YXM+XG4pO1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG5hbWVzLCB1bmlxdWVOYW1lc0dlbmVyYXRvciB9IGZyb20gXCJ1bmlxdWUtbmFtZXMtZ2VuZXJhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBwZWVyU2VydmVyID0ge1xuICBzZWN1cmU6IHRydWUsXG4gIGhvc3Q6IFwic3RhcnZpZWUtcGVlcmpzLXNlcnZlci5oZXJva3VhcHAuY29tXCIsXG4gIHBvcnQ6IDQ0Myxcbn07XG5cbmV4cG9ydCBjb25zdCByYW5kb21OYW1lID0gKCkgPT5cbiAgdW5pcXVlTmFtZXNHZW5lcmF0b3Ioe1xuICAgIGRpY3Rpb25hcmllczogW25hbWVzXSxcbiAgICBsZW5ndGg6IDEsXG4gIH0pO1xuXG4vKiogQHBhcmFtIHsoZGVsdGFUaW1lIDogbnVtYmVyKSA9PiB2b2lkfSBjYWxsYmFjayAqL1xuZXhwb3J0IGNvbnN0IHVzZUFuaW1hdGlvbkZyYW1lID0gKGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IHJlcXVlc3QgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgY29uc3QgdGhlbiA9IHVzZVJlZih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IGFuaW1hdGUgPSAobm93KSA9PiB7XG4gICAgdGhlbi5jdXJyZW50ICYmIGNhbGxiYWNrKChub3cgLSB0aGVuLmN1cnJlbnQpIC8gMTAwMCk7XG4gICAgdGhlbi5jdXJyZW50ID0gbm93O1xuICAgIHJlcXVlc3QuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlcXVlc3QuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxdWVzdC5jdXJyZW50KTtcbiAgfSwgW10pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0XG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHRcbiAqICovXG5leHBvcnQgY29uc3QgY2xhbXAgPSAodmFsdWUsIGxlZnQsIHJpZ2h0KSA9PlxuICBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbGVmdCksIHJpZ2h0KTtcbiIsIi8qKiBAdGVtcGxhdGUgVCBAdHlwZWRlZiB7aW1wb3J0KFwicmVhY3RcIikuTXV0YWJsZVJlZk9iamVjdDxUPn0gTXV0YWJsZVJlZk9iamVjdDxUPiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5Db250cm9sfSBDb250cm9sXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5HYW1lfSBHYW1lXG4gKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5QbGF5ZXJ9IFBsYXllclxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vdHlwZXNcIikuU3BhY2VzaGlwfSBTcGFjZXNoaXBcbiAqL1xuXG5pbXBvcnQgeyBCb2RpZXMsIEJvZHksIEVuZ2luZSwgV29ybGQgfSBmcm9tIFwibWF0dGVyLWpzXCI7XG5pbXBvcnQgUGVlciBmcm9tIFwicGVlcmpzXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQW5pbWF0aW9uRnJhbWUgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4vLyBjb25zdCBTUF9NQVhfUiA9IE1hdGguUEkgLyA4O1xuXG4vKiogQHBhcmFtIHt7aG9zdDogUGVlcn19IHByb3BzICovXG5leHBvcnQgZGVmYXVsdCAoeyBob3N0IH0pID0+IHtcbiAgLyoqIEB0eXBlIHtNdXRhYmxlUmVmT2JqZWN0PEdhbWU+fSAqL1xuICBjb25zdCBnYW1lID0gdXNlUmVmKHsgdDogMCwgbjogMCwgc3BzOiBbXSB9KTtcblxuICAvKiogQHR5cGUge0JvZHlbXX0gKi9cbiAgY29uc3Qgc3BzID0gW107XG5cbiAgY29uc3QgZW5naW5lID0gRW5naW5lLmNyZWF0ZSgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25Db25uZWN0aW9uID0gKGNvbm4pID0+IHtcbiAgICAgIGNvbnN0IHNwID0gQm9kaWVzLnJlY3RhbmdsZSgtMC4xLCAtMC4yLCAwLjIsIDAuNCk7XG4gICAgICBzcHMucHVzaChzcCk7XG4gICAgICBXb3JsZC5hZGQoZW5naW5lLndvcmxkLCBbc3BdKTtcbiAgICAgIC8qKiBAcGFyYW0ge1BsYXllcn0gZGF0YSAqL1xuICAgICAgY29uc3Qgb25EYXRhID0gKGRhdGEpID0+XG4gICAgICAgIEJvZHkuc2V0VmVsb2NpdHkoc3AsIHtcbiAgICAgICAgICB4OiAoZGF0YS5tLnggLSBzcC5wb3NpdGlvbi54KSAqIDAuMDEsXG4gICAgICAgICAgeTogKGRhdGEubS55IC0gc3AucG9zaXRpb24ueSkgKiAwLjAxLFxuICAgICAgICB9KTtcbiAgICAgIGNvbm4ub24oXCJkYXRhXCIsIG9uRGF0YSk7XG4gICAgfTtcbiAgICBob3N0Lm9uKFwiY29ubmVjdGlvblwiLCBvbkNvbm5lY3Rpb24pO1xuICAgIHJldHVybiAoKSA9PiBob3N0Lm9mZihcImNvbm5lY3Rpb25cIiwgb25Db25uZWN0aW9uKTtcbiAgfSwgW10pO1xuXG4gIHVzZUFuaW1hdGlvbkZyYW1lKChkZWx0YVRpbWUpID0+IHtcbiAgICBFbmdpbmUudXBkYXRlKGVuZ2luZSwgZGVsdGFUaW1lKTtcbiAgICBnYW1lLmN1cnJlbnQgPSB7XG4gICAgICB0OiBnYW1lLmN1cnJlbnQudCArIGRlbHRhVGltZSxcbiAgICAgIG46IGdhbWUuY3VycmVudC5uICsgMSxcbiAgICAgIHNwczogc3BzLm1hcCgoc3ApID0+ICh7XG4gICAgICAgIHA6IHsgeDogc3AucG9zaXRpb24ueCwgeTogc3AucG9zaXRpb24ueSB9LFxuICAgICAgICByOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgIH0pKSxcbiAgICB9O1xuICAgIGNvbnN0IGNvbm5zID0gaG9zdC5jb25uZWN0aW9ucztcbiAgICBPYmplY3QudmFsdWVzKGNvbm5zKS5mb3JFYWNoKChjb25uKSA9PiBjb25uWzBdLnNlbmQoZ2FtZS5jdXJyZW50KSk7XG4gIH0pO1xuXG4gIHJldHVybiBudWxsO1xufTtcbiIsIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydChcIi4vdHlwZXNcIikuU2VydmVyfSBTZXJ2ZXJcbiAqL1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldEZpcmVzdG9yZSB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcbmltcG9ydCBmaXJlYmFzZUNvbmZpZyBmcm9tIFwiLi9maXJlYmFzZUNvbmZpZ1wiO1xuXG5jb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbGxlY3Rpb24oZGIsIFwic2VydmVyc1wiKS53aXRoQ29udmVydGVyKHtcbiAgLyoqIEBwYXJhbSB7U2VydmVyfSBzZXJ2ZXIgKi9cbiAgdG9GaXJlc3RvcmU6ICh7IGlkLCAuLi5yZXN1bHQgfSkgPT4gcmVzdWx0LFxuICAvKiogQHJldHVybnMge1NlcnZlcn0gKi9cbiAgZnJvbUZpcmVzdG9yZTogKHNuYXBzaG90KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRhdGEoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHNuYXBzaG90LmlkLFxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgbm9QbGF5ZXJzOiBkYXRhLm5vUGxheWVycyxcbiAgICAgIHZlcnNpb246IGRhdGEudmVyc2lvbixcbiAgICB9O1xuICB9LFxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGFwaUtleTogXCJBSXphU3lCaGk2NkJib2tfZ0JUN0xoWWQwZ25PalhwR1E5MWJHYzBcIixcbiAgYXV0aERvbWFpbjogXCJzdG9yaWUtMTNiMzUuZmlyZWJhc2VhcHAuY29tXCIsXG4gIHByb2plY3RJZDogXCJzdG9yaWUtMTNiMzVcIixcbiAgc3RvcmFnZUJ1Y2tldDogXCJzdG9yaWUtMTNiMzUuYXBwc3BvdC5jb21cIixcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiNTkyMzMxNzQ1NjkwXCIsXG4gIGFwcElkOiBcIjE6NTkyMzMxNzQ1NjkwOndlYjo2NzMyMTcyY2RkMmRmZTQ2MjYzMjIzXCIsXG4gIG1lYXN1cmVtZW50SWQ6IFwiRy1WM1g2MURaRzNQXCJcbn07XG4iLCJpbXBvcnQgeyBSb2NrZXRMYXVuY2ggfSBmcm9tIFwiQG11aS9pY29ucy1tYXRlcmlhbFwiO1xuaW1wb3J0IEF1dG9yZW5ld0ljb24gZnJvbSBcIkBtdWkvaWNvbnMtbWF0ZXJpYWwvQXV0b3JlbmV3XCI7XG5pbXBvcnQgeyBMb2FkaW5nQnV0dG9uIH0gZnJvbSBcIkBtdWkvbGFiXCI7XG5pbXBvcnQge1xuICBBbGVydCxcbiAgQXZhdGFyLFxuICBCb3gsXG4gIEJ1dHRvbixcbiAgRGlhbG9nLFxuICBEaWFsb2dDb250ZW50LFxuICBEaWFsb2dUaXRsZSxcbiAgR3JpZCxcbiAgR3JvdyxcbiAgSWNvbkJ1dHRvbixcbiAgU2tlbGV0b24sXG4gIFNuYWNrYmFyLFxuICBUYWJsZSxcbiAgVGFibGVCb2R5LFxuICBUYWJsZUNlbGwsXG4gIFRhYmxlSGVhZCxcbiAgVGFibGVSb3csXG4gIFRleHRGaWVsZCxcbiAgVHlwb2dyYXBoeVxufSBmcm9tIFwiQG11aS9tYXRlcmlhbFwiO1xuaW1wb3J0IHsgZG9jLCBvblNuYXBzaG90LCBxdWVyeSwgc2V0RG9jLCB3aGVyZSB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcbmltcG9ydCBQZWVyIGZyb20gXCJwZWVyanNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb29raWVzIH0gZnJvbSBcInJlYWN0LWNvb2tpZVwiO1xuaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gXCJyZWFjdC1ob29rLWZvcm1cIjtcbmltcG9ydCB7IENsaWVudENvbnRleHQsIEhvc3RDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dHMuanNcIjtcbmltcG9ydCBzZXJ2ZXJzQ29sbGVjdGlvbiBmcm9tIFwiLi9zZXJ2ZXJzQ29sbGVjdGlvblwiO1xuaW1wb3J0IHsgcGVlclNlcnZlciwgcmFuZG9tTmFtZSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG4vKiogQHR5cGVkZWYge2ltcG9ydChcIi4vdHlwZXNcIikuU2VydmVyfSBTZXJ2ZXIgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KFwiLi90eXBlc1wiKS5Ib3N0Rm9ybX0gSG9zdEZvcm0gKi9cblxuY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlZFUlNJT047XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgLyoqIEB0eXBlIHtbU2VydmVyW10sIChzZXJ2ZXJzOiBTZXJ2ZXJbXSkgPT4gdm9pZF19ICovXG4gIGNvbnN0IFtzZXJ2ZXJzLCBzZXRTZXJ2ZXJzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbXywgc2V0SG9zdF0gPSB1c2VDb250ZXh0KEhvc3RDb250ZXh0KTtcbiAgY29uc3QgW2NsaWVudCwgc2V0Q2xpZW50XSA9IHVzZUNvbnRleHQoQ2xpZW50Q29udGV4dCk7XG5cbiAgY29uc3QgW2Nvb2tpZXMsIHNldENvb2tpZV0gPSB1c2VDb29raWVzKFtcIm5hbWVcIl0pO1xuXG4gIC8qKiBAcGFyYW0ge1NlcnZlcn0gc2VydmVyICovXG4gIGNvbnN0IGpvaW4gPSBhc3luYyAoc2VydmVyKSA9PiB7XG4gICAgY29uc3QgcGVlciA9IG5ldyBQZWVyKHBlZXJTZXJ2ZXIpO1xuICAgIHBlZXIub24oXCJvcGVuXCIsICgpID0+IHNldENsaWVudChwZWVyLmNvbm5lY3Qoc2VydmVyLmlkKSkpO1xuICB9O1xuXG4gIC8qKiBAcGFyYW0ge0hvc3RGb3JtfSBkYXRhICovXG4gIGNvbnN0IHN0YXJ0SG9zdCA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgaG9zdCA9IG5ldyBQZWVyKHBlZXJTZXJ2ZXIpO1xuICAgIGhvc3Qub24oXCJvcGVuXCIsIChpZCkgPT4ge1xuICAgICAgc2V0RG9jKGRvYyhzZXJ2ZXJzQ29sbGVjdGlvbiwgaWQpLCB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBub1BsYXllcnM6IDAsXG4gICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICB9KTtcbiAgICAgIHNldEhvc3QoaG9zdCk7XG4gICAgICBjb25zdCBwZWVyID0gbmV3IFBlZXIocGVlclNlcnZlcik7XG4gICAgICBwZWVyLm9uKFwib3BlblwiLCAoKSA9PiBzZXRDbGllbnQocGVlci5jb25uZWN0KGhvc3QuaWQpKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qge1xuICAgIGhhbmRsZVN1Ym1pdCxcbiAgICByZWdpc3RlcixcbiAgICBzZXRWYWx1ZSxcbiAgICB0cmlnZ2VyLFxuICAgIGZvcm1TdGF0ZTogeyBpc1N1Ym1pdHRpbmcsIGVycm9ycyB9LFxuICB9ID0gdXNlRm9ybSh7XG4gICAgbW9kZTogXCJhbGxcIixcbiAgICBkZWZhdWx0VmFsdWVzOiB7XG4gICAgICBuYW1lOiBjb29raWVzLm5hbWUgPz8gcmFuZG9tTmFtZSgpLFxuICAgIH0sXG4gIH0pO1xuXG4gIHVzZUVmZmVjdChcbiAgICAoKSA9PlxuICAgICAgb25TbmFwc2hvdChcbiAgICAgICAgcXVlcnkoc2VydmVyc0NvbGxlY3Rpb24sIHdoZXJlKFwidmVyc2lvblwiLCBcIj09XCIsIHZlcnNpb24pKSxcbiAgICAgICAgKHNuYXBzaG90cykgPT5cbiAgICAgICAgICBzZXRTZXJ2ZXJzKHNuYXBzaG90cy5kb2NzLm1hcCgoc25hcHNob3QpID0+IHNuYXBzaG90LmRhdGEoKSkpXG4gICAgICApLFxuICAgIFtdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8RGlhbG9nIG9wZW49eyFjbGllbnR9IGZ1bGxTY3JlZW49e3RydWV9PlxuICAgICAgPERpYWxvZ1RpdGxlPlxuICAgICAgICBTdGFydmllZSBTcGFjZSBTaG9vdGVycyAtIHZ7cHJvY2Vzcy5lbnYuVkVSU0lPTn1cbiAgICAgIDwvRGlhbG9nVGl0bGU+XG4gICAgICA8RGlhbG9nQ29udGVudD5cbiAgICAgICAgPEdyaWQgY29udGFpbmVyIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgIDxTbmFja2JhciBvcGVuPXshIWNsaWVudH0+XG4gICAgICAgICAgICA8QWxlcnQgc2V2ZXJpdHk9XCJzdWNjZXNzXCI+Q29ubmVjdGVkPC9BbGVydD5cbiAgICAgICAgICA8L1NuYWNrYmFyPlxuICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezh9PlxuICAgICAgICAgICAgPEJveFxuICAgICAgICAgICAgICBjb21wb25lbnQ9XCJtYWluXCJcbiAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxUYWJsZSBzaXplPVwic21hbGxcIiBzdGlja3lIZWFkZXI+XG4gICAgICAgICAgICAgICAgPFRhYmxlSGVhZD5cbiAgICAgICAgICAgICAgICAgIDxUYWJsZVJvdz5cbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbD5Ib3N0PC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgYWxpZ249XCJyaWdodFwiPk5vLiBQbGF5ZXJzPC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgYWxpZ249XCJyaWdodFwiPkpvaW48L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICAgPC9UYWJsZUhlYWQ+XG4gICAgICAgICAgICAgICAgPFRhYmxlQm9keT5cbiAgICAgICAgICAgICAgICAgIHtzZXJ2ZXJzPy5tYXAoKHNlcnZlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8R3JvdyBpbj17dHJ1ZX0ga2V5PXtzZXJ2ZXIuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVJvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGw+e3NlcnZlci5uYW1lfTwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBhbGlnbj1cInJpZ2h0XCI+e3NlcnZlci5ub1BsYXllcnN9PC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGFsaWduPVwicmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRpbmdCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtpc1N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0KChkYXRhKSA9PiBqb2luKHNlcnZlcikpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xvYWRpbmdCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxuICAgICAgICAgICAgICAgICAgICA8L0dyb3c+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIHtBcnJheSg1KVxuICAgICAgICAgICAgICAgICAgICAuZmlsbCgpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8R3JvdyBpbj17IXNlcnZlcnN9IGtleT17aX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgYW5pbWF0aW9uPVwid2F2ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGFsaWduPVwicmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b24gdmFyaWFudD1cInRleHRcIiBhbmltYXRpb249XCJ3YXZlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgYWxpZ249XCJyaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicmVjdGFuZ3VsYXJcIiBhbmltYXRpb249XCJ3YXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGluZ0J1dHRvbiB2YXJpYW50PVwib3V0bGluZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSm9pblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Mb2FkaW5nQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2tlbGV0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyb3c+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvVGFibGVCb2R5PlxuICAgICAgICAgICAgICA8L1RhYmxlPlxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgIDxHcmlkIGl0ZW0geHM9ezR9PlxuICAgICAgICAgICAgPEJveFxuICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgIHN4PXt7IHdpZHRoOiA2NCwgaGVpZ2h0OiA2NCwgbTogMSwgYmdjb2xvcjogXCJwcmltYXJ5Lm1haW5cIiB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFJvY2tldExhdW5jaCBzeD17eyBmb250U2l6ZTogMzIgfX0gLz5cbiAgICAgICAgICAgICAgPC9BdmF0YXI+XG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD1cImgxXCIgdmFyaWFudD1cImg0XCI+XG4gICAgICAgICAgICAgICAgU3RhcnZpZWVcbiAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgbWFyZ2luPVwibm9ybWFsXCJcbiAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICBsYWJlbD1cIk5hbWVcIlxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcihcIm5hbWVcIiwgeyByZXF1aXJlZDogdHJ1ZSB9KX1cbiAgICAgICAgICAgICAgICBlcnJvcj17ISFlcnJvcnMubmFtZX1cbiAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7IG1heExlbmd0aDogMTIgfX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PlxuICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlICYmIHNldENvb2tpZShcIm5hbWVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICBzdGFydEFkb3JubWVudDogKFxuICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSByYW5kb21OYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDb29raWUoXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxBdXRvcmVuZXdJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGp1c3RpZnlDb250ZW50PVwiZmxleC1zdGFydFwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXQoKGRhdGEpID0+IHN0YXJ0SG9zdChkYXRhKSl9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ISFlcnJvcnMubmFtZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBIb3N0XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgPC9HcmlkPlxuICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgIDwvRGlhbG9nPlxuICApO1xufTtcbiIsImltcG9ydCB7IEJveCB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IENsaWVudCBmcm9tIFwiLi9DbGllbnQuanNcIjtcbmltcG9ydCB7IENsaWVudENvbnRleHQsIEhvc3RDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dHMuanNcIjtcbmltcG9ydCBIb3N0IGZyb20gXCIuL0hvc3RcIjtcbmltcG9ydCBNYWluRGlhbG9nIGZyb20gXCIuL01haW5EaWFsb2dcIjtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBjb25zdCBbaG9zdF0gPSB1c2VDb250ZXh0KEhvc3RDb250ZXh0KTtcbiAgY29uc3QgW2NsaWVudCwgX10gPSB1c2VDb250ZXh0KENsaWVudENvbnRleHQpO1xuXG4gIHJldHVybiAoXG4gICAgPEJveCBoZWlnaHQ9XCIxMDB2aFwiPlxuICAgICAge2hvc3QgJiYgPEhvc3QgaG9zdD17aG9zdH0gLz59XG4gICAgICB7Y2xpZW50ICYmIDxDbGllbnQgY2xpZW50PXtjbGllbnR9IC8+fVxuICAgICAgPE1haW5EaWFsb2cgLz5cbiAgICA8L0JveD5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBDc3NCYXNlbGluZSB9IGZyb20gXCJAbXVpL21hdGVyaWFsXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENsaWVudENvbnRleHQsIEhvc3RDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dHMuanNcIjtcbmltcG9ydCBNYWluU2NyZWVuIGZyb20gXCIuL01haW5TY3JlZW4uanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxIb3N0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlU3RhdGUobnVsbCl9PlxuICAgICAgPENsaWVudENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3VzZVN0YXRlKG51bGwpfT5cbiAgICAgICAgPENzc0Jhc2VsaW5lIC8+XG4gICAgICAgIDxNYWluU2NyZWVuIC8+XG4gICAgICA8L0NsaWVudENvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9Ib3N0Q29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsid2VicGFja0VtcHR5Q29udGV4dCIsInJlcSIsImUiLCJFcnJvciIsImNvZGUiLCJrZXlzIiwicmVzb2x2ZSIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyIsIkhvc3RDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIkNsaWVudENvbnRleHQiLCJ1bmlmb3JtcyIsImlUaW1lIiwidHlwZSIsInZhbHVlIiwiaVJlc29sdXRpb24iLCJ4IiwieSIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwidXNlR0xURiIsInNwYWNlVHJpdmlhIiwiSG93bCIsInNyYyIsImxvb3AiLCJDbGllbnQiLCJjbGllbnQiLCJzcGl0ZmlyZSIsInVuaXZlcnNlIiwidXNlUmVmIiwic3BhY2VzaGlwcyIsInVzZVRocmVlIiwic2l6ZSIsInZpZXdwb3J0Iiwib2JqIiwiT2JqZWN0M0QiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwibWF0ZXJpYWwiLCJ3aWR0aCIsImhlaWdodCIsIm9uRGF0YSIsImdhbWUiLCJ0Iiwic3BzIiwiZm9yRWFjaCIsInNwIiwicG9zaXRpb24iLCJzZXQiLCJwIiwicm90YXRpb24iLCJNYXRoIiwiUEkiLCJyIiwieiIsInNjYWxlIiwidXBkYXRlTWF0cml4Iiwic2V0TWF0cml4QXQiLCJtYXRyaXgiLCJpbnN0YW5jZU1hdHJpeCIsIm5lZWRzVXBkYXRlIiwib24iLCJwbGF5Iiwib2ZmIiwic3RvcCIsInVzZUZyYW1lIiwibW91c2UiLCJwbGF5ZXIiLCJtIiwic2VuZCIsImFtYmllbnRMaWdodCIsInBvaW50TGlnaHQiLCJtZXNoIiwicmVmIiwicGxhbmVCdWZmZXJHZW9tZXRyeSIsImFyZ3MiLCJzaGFkZXJNYXRlcmlhbCIsImF0dGFjaCIsIlVuaXZlcnNlTWF0ZXJpYWwiLCJpbnN0YW5jZWRNZXNoIiwibm9kZXMiLCJTcGl0ZmlyZSIsImdlb21ldHJ5IiwibWF0ZXJpYWxzIiwiVGV4dHVyZSIsIlN0YXRzIiwiQ2FudmFzIiwicGVlclNlcnZlciIsInNlY3VyZSIsImhvc3QiLCJwb3J0IiwicmFuZG9tTmFtZSIsInVuaXF1ZU5hbWVzR2VuZXJhdG9yIiwiZGljdGlvbmFyaWVzIiwibmFtZXMiLCJsZW5ndGgiLCJjYWxsYmFjayIsInJlcXVlc3QiLCJ0aGVuIiwiYW5pbWF0ZSIsIm4iLCJlbmdpbmUiLCJFbmdpbmUiLCJvbkNvbm5lY3Rpb24iLCJjb25uIiwiQm9kaWVzIiwicHVzaCIsIldvcmxkIiwid29ybGQiLCJkYXRhIiwiQm9keSIsImRlbHRhVGltZSIsIm1hcCIsImNvbm5zIiwiY29ubmVjdGlvbnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJ1bmRlZmluZWQiLCJub3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImFwcCIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiZGIiLCJnZXRGaXJlc3RvcmUiLCJjb2xsZWN0aW9uIiwid2l0aENvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwiaSIsImZyb21GaXJlc3RvcmUiLCJzbmFwc2hvdCIsIm5hbWUiLCJub1BsYXllcnMiLCJ2ZXJzaW9uIiwicHJvY2VzcyIsImNvb2tpZXMiLCJ1c2VTdGF0ZSIsInNlcnZlcnMiLCJzZXRTZXJ2ZXJzIiwidXNlQ29udGV4dCIsInNldEhvc3QiLCJzZXRDbGllbnQiLCJ1c2VDb29raWVzIiwic2V0Q29va2llIiwiam9pbiIsInNlcnZlciIsInBlZXIiLCJQZWVyIiwiY29ubmVjdCIsInVzZUZvcm0iLCJtb2RlIiwiZGVmYXVsdFZhbHVlcyIsImhhbmRsZVN1Ym1pdCIsInJlZ2lzdGVyIiwic2V0VmFsdWUiLCJ0cmlnZ2VyIiwiZm9ybVN0YXRlIiwiaXNTdWJtaXR0aW5nIiwiZXJyb3JzIiwib25TbmFwc2hvdCIsInF1ZXJ5Iiwic2VydmVyc0NvbGxlY3Rpb24iLCJ3aGVyZSIsInNuYXBzaG90cyIsImRvY3MiLCJEaWFsb2ciLCJvcGVuIiwiZnVsbFNjcmVlbiIsIkRpYWxvZ1RpdGxlIiwiRGlhbG9nQ29udGVudCIsIkdyaWQiLCJjb250YWluZXIiLCJzcGFjaW5nIiwiU25hY2tiYXIiLCJBbGVydCIsInNldmVyaXR5IiwiaXRlbSIsInhzIiwiQm94IiwiY29tcG9uZW50Iiwic3giLCJvdmVyZmxvdyIsIlRhYmxlIiwic3RpY2t5SGVhZGVyIiwiVGFibGVIZWFkIiwiVGFibGVSb3ciLCJUYWJsZUNlbGwiLCJhbGlnbiIsIlRhYmxlQm9keSIsIkdyb3ciLCJpbiIsImtleSIsIkxvYWRpbmdCdXR0b24iLCJsb2FkaW5nIiwib25DbGljayIsIkFycmF5IiwiZmlsbCIsIl8iLCJTa2VsZXRvbiIsInZhcmlhbnQiLCJhbmltYXRpb24iLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJBdmF0YXIiLCJiZ2NvbG9yIiwiUm9ja2V0TGF1bmNoIiwiZm9udFNpemUiLCJUeXBvZ3JhcGh5IiwiVGV4dEZpZWxkIiwibWFyZ2luIiwiZnVsbFdpZHRoIiwibGFiZWwiLCJhdXRvQ29tcGxldGUiLCJyZXF1aXJlZCIsImVycm9yIiwiaW5wdXRQcm9wcyIsIm1heExlbmd0aCIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJJbnB1dFByb3BzIiwic3RhcnRBZG9ybm1lbnQiLCJJY29uQnV0dG9uIiwiQXV0b3JlbmV3SWNvbiIsImF1dG9Gb2N1cyIsImp1c3RpZnlDb250ZW50IiwiQnV0dG9uIiwic2V0RG9jIiwiZG9jIiwic3RhcnRIb3N0IiwiZGlzYWJsZWQiLCJIb3N0IiwiTWFpbkRpYWxvZyIsIlByb3ZpZGVyIiwiQ3NzQmFzZWxpbmUiLCJNYWluU2NyZWVuIl0sInNvdXJjZVJvb3QiOiIifQ==